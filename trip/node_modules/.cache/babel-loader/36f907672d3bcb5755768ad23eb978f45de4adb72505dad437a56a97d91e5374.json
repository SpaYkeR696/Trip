{"ast":null,"code":"const apiUrl = 'http://localhost:3001/trip';\nexport const TripApi = {\n  getTrips: async () => {\n    try {\n      const response = await fetch(apiUrl);\n      if (!response.ok) {\n        throw new Error('Filed to fetch drivers');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      return null;\n    }\n  },\n  addTrip: async trip => {\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'aplication/json'\n        },\n        body: JSON.stringify(trip)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to add Trip');\n      }\n      return response.json();\n    } catch (error) {\n      return null;\n    }\n  },\n  updateTrip: async updateTrip => {\n    const {\n      id,\n      ...rest\n    } = updateTrip;\n    try {\n      const response = await fetch(`${apiUrl}/${id}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'aplication/json'\n        },\n        body: JSON.stringify(rest)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update Trip');\n      }\n      return response.json();\n    } catch (error) {\n      return null;\n    }\n  }\n};","map":{"version":3,"names":["apiUrl","TripApi","getTrips","response","fetch","ok","Error","data","json","error","addTrip","trip","method","headers","body","JSON","stringify","updateTrip","id","rest"],"sources":["/home/spayker/hexlet/trip/src/api/TripApi.ts"],"sourcesContent":["import { Trip } from '../types/trip';\n\nconst apiUrl = 'http://localhost:3001/trip';\n\nexport const TripApi = {\n    getTrips: async (): Promise<Trip[] | null> => {\n        try {\n            const response = await fetch(apiUrl);\n            if (!response.ok) {\n                throw new Error ('Filed to fetch drivers');\n            }\n\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            return null;\n        } \n    },\n\n    addTrip: async (trip: Trip): Promise<Trip | null> => {\n        try {\n            const response = await fetch(apiUrl, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'aplication/json',\n                },\n                body: JSON.stringify(trip),\n            });\n            if (!response.ok) {\n                throw new Error('Failed to add Trip');\n            }\n            return response.json();\n        } catch (error) {\n           return null;\n        }\n    },\n\n    updateTrip: async (updateTrip: Trip): Promise<Trip | null> => {\n        const { id, ...rest } = updateTrip;\n        try {\n            const response = await fetch(`${apiUrl}/${id}`, {\n                method: 'PATCH',\n                headers: {\n                    'Content-Type': 'aplication/json'\n                },\n                body: JSON.stringify(rest),\n            });\n            if (!response.ok) {\n                throw new Error('Failed to update Trip')\n            }\n            return response.json();\n        } catch (error) {\n            return null;\n        }\n    }\n};\n\n"],"mappings":"AAEA,MAAMA,MAAM,GAAG,4BAA4B;AAE3C,OAAO,MAAMC,OAAO,GAAG;EACnBC,QAAQ,EAAE,MAAAA,CAAA,KAAoC;IAC1C,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,MAAM,CAAC;MACpC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAE,wBAAwB,CAAC;MAC9C;MAEA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI;IACf,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZ,OAAO,IAAI;IACf;EACJ,CAAC;EAEDC,OAAO,EAAE,MAAOC,IAAU,IAA2B;IACjD,IAAI;MACA,MAAMR,QAAQ,GAAG,MAAMC,KAAK,CAACJ,MAAM,EAAE;QACjCY,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;MAC7B,CAAC,CAAC;MACF,IAAI,CAACR,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;MACzC;MACA,OAAOH,QAAQ,CAACK,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACb,OAAO,IAAI;IACd;EACJ,CAAC;EAEDQ,UAAU,EAAE,MAAOA,UAAgB,IAA2B;IAC1D,MAAM;MAAEC,EAAE;MAAE,GAAGC;IAAK,CAAC,GAAGF,UAAU;IAClC,IAAI;MACA,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,MAAM,IAAIkB,EAAE,EAAE,EAAE;QAC5CN,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACG,IAAI;MAC7B,CAAC,CAAC;MACF,IAAI,CAAChB,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC5C;MACA,OAAOH,QAAQ,CAACK,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,OAAO,IAAI;IACf;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}